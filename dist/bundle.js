function hover_eff(e,t){e=$(e).position();var a,s=$(window).width(),n=$(window).height();a=$(".distort__img").height()/2;var o=0,i=0,r=0;if(o=s<=420?-150:250,"yes"==t){i=-s/1.5;r=n/2-a}else r=e.top-o+50;document.body,document.documentElement;const l=(e,t,a)=>(1-a)*e+a*t,c=(e,t,a,s)=>{var n=e-t,o=a-s;return Math.hypot(n,o)},d=e=>{let t=0,a=0;return e||(e=window.event),e.pageX||e.pageY?(t=e.pageX,a=e.pageY):(e.clientX||e.clientY)&&(t=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,a=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:t,y:a}};let p;const m=()=>p={width:window.innerWidth,height:window.innerHeight};m(),window.addEventListener("resize",m);const g=document.querySelector("feDisplacementMap");new class{constructor(){this.DOM={svg:document.querySelector("svg.distort"),menu:document.querySelector("nav.menu")},this.DOM.imgs=[...this.DOM.svg.querySelectorAll("g > image")],this.DOM.menuLinks=[...this.DOM.menu.querySelectorAll(".menu__link")],this.mousePos={x:p.width/4,y:p.height/4},this.lastMousePos={translation:{x:p.width/4,y:p.height/4},displacement:{x:0,y:0}},this.dmScale=0,this.current=-1,this.initEvents(),requestAnimationFrame(()=>this.render())}initEvents(){window.addEventListener("mousemove",e=>this.mousePos=d(e)),this.DOM.menuLinks.forEach((e,t)=>{e.addEventListener("mouseenter",()=>{-1!==this.current&&TweenMax.set(this.DOM.imgs[this.current],{opacity:0}),this.current=t,this.fade?(TweenMax.to(this.DOM.imgs[this.current],.5,{ease:Quad.easeOut,opacity:1}),this.fade=!1):TweenMax.set(this.DOM.imgs[this.current],{opacity:1})})});this.DOM.menu.addEventListener("mouseenter",()=>this.fade=!0),this.DOM.menu.addEventListener("mouseleave",()=>TweenMax.to(this.DOM.imgs[this.current],.2,{ease:Quad.easeOut,opacity:0}))}render(){this.lastMousePos.translation.x=l(this.lastMousePos.translation.x,this.mousePos.x,.1),this.lastMousePos.translation.y=l(this.lastMousePos.translation.y,this.mousePos.y,.1),this.DOM.svg.style.transform=`translateX(${this.lastMousePos.translation.x-p.width/2+i}px) translateY(${r}px`,this.lastMousePos.displacement.x=l(this.lastMousePos.displacement.x,this.mousePos.x,.1),this.lastMousePos.displacement.y=l(this.lastMousePos.displacement.y,this.mousePos.y,.1);const e=c(this.lastMousePos.displacement.x,this.mousePos.x,this.lastMousePos.displacement.y,this.mousePos.y);this.dmScale=Math.min(e,100),g.scale.baseVal=this.dmScale,requestAnimationFrame(()=>this.render())}}}function load(){let e=0,t=1,a=['<span class="letter">T</span><span class="letter">y</span><span class="letter">p</span><span class="letter">e</span>','<span class="letter">G</span><span class="letter">r</span><span class="letter">a</span><span class="letter">p</span><span class="letter">h</span><span class="letter">i</span><span class="letter">c</span>','<span class="letter">W</span><span class="letter">e</span><span class="letter">b</span>','<span class="letter">D</span><span class="letter">e</span><span class="letter">s</span><span class="letter">i</span><span class="letter">g</span><span class="letter">n</span>'];const s=setInterval((function(){4==e&&(e=0),$("#loading h2").html(a[e]),e+=1,1==t?($("#loading #image_load img.active").removeClass("active"),$("#loading #image_load img:first-child").addClass("active")):2==t?$("#loading #image_load img.active").removeClass("active").next().addClass("active"):($("#loading #image_load img.active").removeClass("active").next().addClass("active"),t=0),t+=1}),200);(()=>new Promise((e,t)=>{imagesLoaded(document.querySelectorAll("img"),{background:!0},e)}))().then(()=>{setTimeout((function(){$("body").removeClass("load")}),4500),setTimeout((function(){$("#cover").addClass("end"),$("#cont_work_page h1").addClass("end"),$("#const_about_page h1").addClass("end"),$("#poster_start").addClass("end")}),1500),setTimeout((function(){clearInterval(s),$("#loading").addClass("end"),$("#image_load").addClass("end"),$("#header").addClass("start"),$("#rectangle_green").addClass("end"),$("#cover").removeClass("end"),$("#cont_work_page h1").removeClass("end"),$("#const_about_page").removeClass("active").addClass("active_2"),$("#poster_start").removeClass("end"),$("#begin").addClass("active_2"),anime.timeline({loop:!1}).add({targets:"#loading h2 .letter",translateY:[0,-150],opacity:[1,0],easing:"easeInExpo",duration:800,delay:function(e,t){return 100+30*t}})}),1200)})}var controller;function all(){!function(){$("canvas").remove();var e=$("#canvas1 img").attr("src");new hoverEffect({parent:document.querySelector("#canvas1"),intensity:.3,image1:e,image2:e,displacementImage:"https://www.danilodemarco.com/core/assets/0be5a6c828/img/displacement/17.jpg"}),e=$("#canvas2 img").attr("src"),new hoverEffect({parent:document.querySelector("#canvas2"),intensity:.3,image1:e,image2:e,displacementImage:"https://www.danilodemarco.com/core/assets/0be5a6c828/img/displacement/17.jpg"}),e=$("#canvas3 img").attr("src"),new hoverEffect({parent:document.querySelector("#canvas3"),intensity:.3,image1:e,image2:e,displacementImage:"https://www.danilodemarco.com/core/assets/0be5a6c828/img/displacement/17.jpg"}),e=$("#canvas4 img").attr("src"),new hoverEffect({parent:document.querySelector("#canvas4"),intensity:.3,image1:e,image2:e,displacementImage:"https://www.danilodemarco.com/core/assets/0be5a6c828/img/displacement/17.jpg"})}();var e=new Glide(".glide",{type:"carousel",autoplay:0,animationDuration:300,animationTimingFunc:"linear",perView:1,peek:450,breakpoints:{2700:{peek:600},1700:{peek:450},1366:{peek:400},1280:{peek:300},1100:{peek:180},800:{peek:100},700:{peek:0,perView:1}}});$(".link_f").on("click",(function(e){e.preventDefault()}));var t=!1;$(".link_f").mousedown((function(){t=!1})).mousemove((function(){t=!0})).mouseup((function(){var e,a=t;(t=!1,a)||(e=$(this).data("id"),$("#"+e).trigger("click"))}));var a,s=0,n=0,o=0,i=0,r=0;e.on("mount.after",(function(){$(".glide__slide--active").data("title"),$(".glide__slide--active").prev().data("title"),$(".glide__slide--active").next().data("title");var e=$(window).width();r=e<=540?1.5*e:1.2*e,n=$("#poster h2 span.first").position(),o=-r,$("#poster h2").css({left:-n.left+o},1e3)})),e.on("run.before",(function(){a=$(".glide__slide--active").data("title"),$("#poster").addClass("pointnone")})),$(window).on("resize",(function(){n=$("#poster h2 span.active").position(),o=$("#poster h2 span.active").width()/4,$("#poster h2").css({left:-n.left+o})})),$(window).on("orientationchange",(function(){location.reload()})),e.on("run.after",(function(){n=$("#poster h2 span.first").position(),o=$("#poster h2 span.first").width()/4,i=$("#poster h2 span.poster_title").outerWidth(),$("#poster h2 span.poster_title").remove(),$("#poster h2").css({left:i-n.left+o});$(".glide__slide--active").data("title");var e=$(".glide__slide--active").prev().data("title");$(".glide__slide--active").next().data("title");a==e?(s+=1,$("#poster h2 span.active").addClass("old"),$("#poster h2 span.active").next().addClass("active"),$("#poster h2 span.old").removeClass("old"),n=$("#poster h2 span.active").position(),o=$("#poster h2 span.active").width()/4,$("#poster h2").animate({left:-n.left+o},1e3),s>5&&(s=0,$("#poster h2 span.active").addClass("prov"),$("#poster h2 span.first").addClass("active"),setTimeout((function(){$(".prov").removeClass("prov active"),n=$("#poster h2 span.first").position(),o=$("#poster h2 span.first").width()/4,$("#poster h2").css({left:-n.left+o})}),1200))):(s-=1,$("#poster h2 span.active").addClass("old"),$("#poster h2 span.active").removeClass("active").prev().addClass("active"),$("#poster h2 span.old").removeClass("old"),n=$("#poster h2 span.active").position(),o=$("#poster h2 span.active").width()/4,$("#poster h2").animate({left:-n.left+o},1e3),s<0&&(s=5,$("#poster h2 span.active").addClass("prov"),$("#poster h2 span.last").addClass("active"),setTimeout((function(){$(".prov").removeClass("prov active"),n=$("#poster h2 span.last").position(),o=$("#poster h2 span.last").width()/4,$("#poster h2").css({left:-n.left+o})}),1200))),setTimeout((function(){$("#poster").removeClass("pointnone")}),1e3)})),e.mount();var l=new ScrollMagic.Controller,c=(new ScrollMagic.Scene({triggerElement:"#titolo_sito",triggerHook:"onLeave",offset:"150"}).setTween(TweenMax.to("#scroll, #image_cuore, #email span, #email a",1,{opacity:"0",ease:Power4.linear,force3D:!1})).addTo(l),new ScrollMagic.Scene({triggerElement:"#titolo_sito",triggerHook:"onLeave",offset:"150"}).setTween(TweenMax.to("#rectangle_green",.2,{y:"-50%",ease:Power4.linear,force3D:!1})).addTo(l),new ScrollMagic.Scene({triggerElement:"#work_1 h2",offset:"-230"}).setClassToggle("#work_1 .work","active").reverse(!1).addTo(l),new ScrollMagic.Scene({triggerElement:"#work_2 h2",offset:"-230"}).setClassToggle("#work_2 .work","active").reverse(!1).addTo(l),new ScrollMagic.Scene({triggerElement:"#work_3 h2",offset:"-230"}).setClassToggle("#work_3 .work","active").reverse(!1).addTo(l),new ScrollMagic.Scene({triggerElement:"#work_4 h2",offset:"-230"}).setClassToggle("#work_4 .work","active").reverse(!1).addTo(l),new ScrollMagic.Scene({triggerElement:"#poster",offset:"-200"}).setClassToggle("#poster h2","active").reverse(!1).addTo(l),new ScrollMagic.Scene({triggerElement:"#type",offset:"-100"}).setClassToggle("#type h2 span:last-child","active").reverse(!0).addTo(l),(new TimelineMax).add([TweenMax.to("#logos ul",1,{x:"-700px",ease:Power4.linear,force3D:!1})])),d=(new ScrollMagic.Scene({triggerElement:"#logos",offset:"50",duration:1500}).setTween(c).addTo(l),(new TimelineMax).add([TweenMax.to("#type h2",1,{y:"200px",ease:Power4.linear,force3D:!1})])),p=(new ScrollMagic.Scene({triggerElement:"#type",offset:"100",duration:1500}).setTween(d).addTo(l),(new TimelineMax).add([TweenMax.to("#herbert img.type_1",.2,{x:"-100%",ease:Power4.linear,force3D:!1})])),m=(new ScrollMagic.Scene({triggerElement:"#herbert",offset:"-350",duration:3e3}).setTween(p).addTo(l),new ScrollMagic.Scene({triggerElement:"#herbert img",offset:"300"}).setClassToggle("#herbert .cont_data>div","active").reverse(!1).addTo(l),(new TimelineMax).add([TweenMax.to("#k95alphabet img.type_1",.2,{x:"100%",ease:Power4.linear,force3D:!1})])),g=(new ScrollMagic.Scene({triggerElement:"#k95alphabet",offset:"-250",duration:5e3}).setTween(m).addTo(l),new ScrollMagic.Scene({triggerElement:"#k95alphabet img",offset:"300"}).setClassToggle("#k95alphabet .cont_dat>div","active").reverse(!1).addTo(l),(new TimelineMax).add([TweenMax.to("#agane img.type_1",.2,{x:"-100%",ease:Power4.linear,force3D:!1})]));new ScrollMagic.Scene({triggerElement:"#agane",offset:"-350",duration:3e3}).setTween(g).addTo(l),new ScrollMagic.Scene({triggerElement:"#agane img",offset:"300"}).setClassToggle("#agane .cont_dat>div","active").reverse(!1).addTo(l)}!function(e){let t=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${t}px`)}(jQuery),function(e){function t(){e("a").each((function(){-1===this.href.indexOf("/wp-admin")&&1===this.href.indexOf("/wp-login.php")||e(this).addClass("wp-link")}))}e((function(){let a;t();const s={anchors:"a, .link_f",blacklist:".wp-link",onStart:{duration:1500,render:function(t){let s=1;e("#transition").removeClass("end").addClass("start"),e("#transition #image_tran").removeClass("end"),a=setInterval((function(){1==s?(e("#transition #image_tran img.active").removeClass("active"),e("#transition #image_tran img:first-child").addClass("active")):2==s?e("#transition #image_tran img.active").removeClass("active").next().addClass("active"):(e("#transition #image_tran img.active").removeClass("active").next().addClass("active"),s=0),s+=1}),200)}},onAfter:function(s){t();var n=e(window.location.hash);if(0!==n.length){var o=n.offset().top;e("body, html").animate({scrollTop:o-60},{duration:280})}else e("body, html").animate({scrollTop:0},{duration:0});(()=>new Promise((e,t)=>{imagesloaded(document.querySelectorAll("img"),{background:!0},e)}))().then(()=>{clearInterval(a),e("#transition #image_tran").addClass("end"),setTimeout((function(){e("#transition").addClass("end").removeClass("start"),e("#begin").addClass("active_2"),e("#const_work_page").removeClass("active").addClass("active_2").addClass("active_3")}),500)})}};e("#page").smoothState(s)}))}(jQuery),jQuery,load(),function(e){window.Scrollbar.init(document.querySelector(".site-content"),{dampling:.05,renderByPixels:!1});const t=e(".cursor"),a=e(".cursor2");e(document).on("mousemove",(function(e){t.attr("style","transition:all 500ms cubic-bezier(0.075, 0.820, 0.165, 1.000); top: "+(e.pageY-16)+"px; left: "+(e.pageX-16)+"px; "),a.attr("style"," top: "+e.pageY+"px; left: "+e.pageX+"px;")})),e("a").hover((function(){t.addClass("expand"),a.addClass("expand"),t.removeClass("none")}),(function(){t.addClass("none"),a.removeClass("expand"),t.removeClass("expand")})),e("#poster .content").hover((function(){t.addClass("expand_3"),a.addClass("expand"),t.removeClass("none")}),(function(){t.addClass("none"),t.removeClass("expand_3"),a.removeClass("expand")})),e("#type a, #more_behance").hover((function(){t.addClass("expand_4"),a.addClass("expand"),t.removeClass("none")}),(function(){t.addClass("none"),t.removeClass("expand_4"),a.removeClass("expand")})),e(".work a").hover((function(){t.addClass("expand_5"),a.addClass("expand"),t.removeClass("none")}),(function(){t.addClass("none"),t.removeClass("expand_5"),a.removeClass("expand")}))}(jQuery),function(e){var t=new Array;t[0]="com",t[1]="org",t[2]="net",t[3]="ws",t[4]="info",t[10]="it",t[11]="org.uk",t[12]="gov.uk",t[13]="ac.uk";var a="mailto:",s="@",n=".";function o(t,s,n,o,i){var l=r(t,s,n);e('<a href="'+a+l+o+'">'+l+"</a>").appendTo(i)}function i(t,s,n,o,i,l){e('<a href="'+a+r(t,s,n)+o+'">'+i+"</a>").appendTo(l)}function r(e,a,o){var i=e+s;return-2!=o?(i+=a,o>=0&&(i+=n+t[o])):i+=function(e){for(var t="",a=0;a<e.length;a+=2)a+1==e.length?t+=e.charAt(a):t+=e.charAt(a+1)+e.charAt(a);return t.replace(/\?/g,".")}(a),i}i("hello","danilodemarco",0,"","Get in touch","#email"),i("hello","danilodemarco",0,"","Get in touch","#email_work #mail_t"),o("hello","danilodemarco",0,"","#contact p:first-child"),o("danilo.demarco","k95",10,"","#contact p:last-child")}(jQuery),jQuery("#logos").on("mouseenter",(function(){hover_eff("#logos ul","no")})),all();